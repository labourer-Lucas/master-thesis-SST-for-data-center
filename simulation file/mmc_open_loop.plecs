Plecs {
  Name          "mmc_open_loop"
  Version       "4.9"
  CircuitModel  "ContStateSpace"
  StartTime     "0.0"
  TimeSpan      "1.0"
  Timeout       ""
  Solver        "FixedStepDiscrete"
  MaxStep       "1e-3"
  InitStep      "-1"
  FixedStep     "Ts"
  Refine        "1"
  ZCStepSize    "1e-9"
  RelTol        "1e-3"
  AbsTol        "-1"
  TurnOnThreshold "0"
  NonIdealSwitchResistance "1"
  SyncFixedStepTasks "2"
  UseSingleCommonBaseRate "2"
  LossVariableLimitExceededMsg "3"
  NegativeSwitchLossMsg "3"
  DivisionByZeroMsg "3"
  DatatypeOverflowMsg "3"
  DatatypeInheritanceConflictMsg "2"
  ContSampleTimeConflictMsg "2"
  StiffnessDetectionMsg "2"
  MaxConsecutiveZCs "1000"
  AlgebraicLoopWithStateMachineMsg "3"
  AssertionAction "1"
  FixedPointDatatypeOverride "1"
  InitializationCommands "%Simulation step\nT_s=1e-6;\n%Submodule initila cond"
"ition\nC_0=1e-3;\nV_0=2000;\n\nR_on=1e-3;\nR_s=10e6;\nC_s=inf;\n% Levels of i"
"nvertered\nN=7;\nf_0=50;\nf_s=1000;\nV_dc=12e3;\n\nL_0=10e-3;\nR_o=1;\nL_g=1e"
"-3;\nR_g=0.01;"
  InitialState  "1"
  SystemState   ""
  TaskingMode   "1"
  TaskConfigurations ""
  CodeGenParameterInlining "2"
  CodeGenFloatingPointFormat "2"
  CodeGenAbsTimeUsageMsg "3"
  CodeGenBaseName ""
  CodeGenOutputDir ""
  CodeGenExtraOpts ""
  CodeGenTarget "Generic"
  CodeGenTargetSettings ""
  ExtendedMatrixPrecision "1"
  MatrixSignificanceCheck "2"
  RemoveUnusedStateSpaceOutputs "2"
  EnableStateSpaceSplitting "2"
  DisplayStateSpaceSplitting "1"
  DiscretizationMethod "2"
  ExternalModeSettings ""
  AlgebraicLoopMethod "1"
  AlgebraicLoopTolerance "1e-6"
  ScriptsDialogGeometry ""
  ScriptsDialogSplitterPos "0"
  Terminal {
    Type          Output
    Index         "1"
  }
  Schematic {
    Location      [92, 108; 1301, 829]
    ZoomFactor    1.71498
    SliderPosition [0, 0]
    ShowBrowser   off
    BrowserWidth  100
    Component {
      Type          Subsystem
      Name          "MMC-3phase"
      Show          on
      Position      [245, 195]
      Direction     up
      Flipped       off
      LabelPosition none
      Frame         [-85, -130; 85, 130]
      SampleTime    "-1"
      CodeGenDiscretizationMethod "2"
      CodeGenTarget "Generic"
      MaskDisplayLang "2"
      MaskIconFrame on
      MaskIconOpaque off
      MaskIconRotates on
      Terminal {
        Type          Port
        Position      [-90, 50]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [-90, -35]
        Direction     left
      }
      Terminal {
        Type          Port
        Position      [90, -45]
        Direction     right
      }
      Terminal {
        Type          Port
        Position      [90, 0]
        Direction     right
      }
      Terminal {
        Type          Port
        Position      [90, 55]
        Direction     right
      }
      Schematic {
        Location      [415, 230; 1243, 840]
        ZoomFactor    0.763607
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBA+"
          Show          on
          Position      [325, 170]
          Direction     up
          Flipped       off
          LabelPosition southeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C1"
          Show          on
          Position      [370, 170]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0au"
          Show          on
          Position      [325, 260]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0au"
          Show          on
          Position      [325, 310]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBA-"
          Show          on
          Position      [325, 530]
          Direction     up
          Flipped       off
          LabelPosition northeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C2"
          Show          on
          Position      [375, 530]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0al"
          Show          on
          Position      [325, 440]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0al"
          Show          on
          Position      [325, 390]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBB+"
          Show          on
          Position      [490, 170]
          Direction     up
          Flipped       off
          LabelPosition southeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C3"
          Show          on
          Position      [535, 170]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0bu"
          Show          on
          Position      [490, 260]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0bu"
          Show          on
          Position      [490, 310]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBB-"
          Show          on
          Position      [490, 530]
          Direction     up
          Flipped       off
          LabelPosition northeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C4"
          Show          on
          Position      [540, 530]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0bl"
          Show          on
          Position      [490, 440]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0bl"
          Show          on
          Position      [490, 390]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBC+"
          Show          on
          Position      [645, 170]
          Direction     up
          Flipped       off
          LabelPosition southeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C5"
          Show          on
          Position      [690, 170]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0cu"
          Show          on
          Position      [645, 260]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0cu"
          Show          on
          Position      [645, 310]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Reference
          SrcComponent  "Components/Electrical/Power Modules/MHB1"
          Name          "MHBC-"
          Show          on
          Position      [645, 530]
          Direction     up
          Flipped       off
          LabelPosition northeast
          Frame         [-20, -60; 20, 60]
          Parameter {
            Variable      "semiSymbol"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "N"
            Value         "N-1"
            Show          off
          }
          Parameter {
            Variable      "assert"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "switchModel"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "combineRevDiode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "thermalIgbtDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalIgbt"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfetDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalMosfet"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "thermalRevDiode"
            Value         ""
            Show          off
          }
          Parameter {
            Variable      "Configuration"
            Value         "2"
            Show          off
          }
          Terminal {
            Type          Input
            Position      [-20, -20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [0, -65]
            Direction     up
          }
          Terminal {
            Type          Port
            Position      [0, 65]
            Direction     down
          }
          Terminal {
            Type          Port
            Position      [25, -40]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-20, 20]
            Direction     left
          }
          Terminal {
            Type          Port
            Position      [25, 40]
            Direction     right
          }
        }
        Component {
          Type          Capacitor
          Name          "C6"
          Show          on
          Position      [695, 530]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "C_0"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "V_0"
            Show          off
          }
        }
        Component {
          Type          Inductor
          Name          "L0cl"
          Show          on
          Position      [645, 440]
          Direction     up
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "L"
            Value         "L_0"
            Show          off
          }
          Parameter {
            Variable      "i_init"
            Value         "0"
            Show          off
          }
        }
        Component {
          Type          Resistor
          Name          "R0cl"
          Show          on
          Position      [645, 390]
          Direction     down
          Flipped       off
          LabelPosition west
          Parameter {
            Variable      "R"
            Value         "R_0"
            Show          off
          }
        }
        Component {
          Type          Capacitor
          Name          "C7"
          Show          on
          Position      [185, 195]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "1.2e-3"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "3000"
            Show          off
          }
        }
        Component {
          Type          Capacitor
          Name          "C8"
          Show          on
          Position      [185, 460]
          Direction     down
          Flipped       on
          LabelPosition west
          Parameter {
            Variable      "C"
            Value         "1.2e-3"
            Show          off
          }
          Parameter {
            Variable      "v_init"
            Value         "3000"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "Vdc-"
          Show          on
          Position      [105, 595]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "Vdc+"
          Show          on
          Position      [105, 105]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "Phase A"
          Show          on
          Position      [370, 345]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "Phase B"
          Show          on
          Position      [540, 345]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Port
          Name          "Phase C"
          Show          on
          Position      [695, 345]
          Direction     left
          Flipped       off
          LabelPosition north
          Parameter {
            Variable      "Index"
            Value         "5"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "C1"
          SrcTerminal   1
          Points        [370, 130]
          DstComponent  "MHBA+"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C1"
          SrcTerminal   2
          Points        [370, 210]
          DstComponent  "MHBA+"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "L0au"
          SrcTerminal   2
          DstComponent  "MHBA+"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "R0au"
          SrcTerminal   1
          DstComponent  "L0au"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "C2"
          SrcTerminal   1
          Points        [375, 490]
          DstComponent  "MHBA-"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C2"
          SrcTerminal   2
          Points        [375, 570]
          DstComponent  "MHBA-"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "R0al"
          SrcTerminal   1
          DstComponent  "L0al"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "MHBA-"
          SrcTerminal   2
          DstComponent  "L0al"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "C3"
          SrcTerminal   1
          Points        [535, 130]
          DstComponent  "MHBB+"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C3"
          SrcTerminal   2
          Points        [535, 210]
          DstComponent  "MHBB+"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "L0bu"
          SrcTerminal   2
          DstComponent  "MHBB+"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "R0bu"
          SrcTerminal   1
          DstComponent  "L0bu"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "C4"
          SrcTerminal   1
          Points        [540, 490]
          DstComponent  "MHBB-"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C4"
          SrcTerminal   2
          Points        [540, 570]
          DstComponent  "MHBB-"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "R0bl"
          SrcTerminal   1
          DstComponent  "L0bl"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "MHBB-"
          SrcTerminal   2
          DstComponent  "L0bl"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "C5"
          SrcTerminal   1
          Points        [690, 130]
          DstComponent  "MHBC+"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C5"
          SrcTerminal   2
          Points        [690, 210]
          DstComponent  "MHBC+"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "L0cu"
          SrcTerminal   2
          DstComponent  "MHBC+"
          DstTerminal   3
        }
        Connection {
          Type          Wire
          SrcComponent  "R0cu"
          SrcTerminal   1
          DstComponent  "L0cu"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "C6"
          SrcTerminal   1
          Points        [695, 490]
          DstComponent  "MHBC-"
          DstTerminal   4
        }
        Connection {
          Type          Wire
          SrcComponent  "C6"
          SrcTerminal   2
          Points        [695, 570]
          DstComponent  "MHBC-"
          DstTerminal   6
        }
        Connection {
          Type          Wire
          SrcComponent  "R0cl"
          SrcTerminal   1
          DstComponent  "L0cl"
          DstTerminal   1
        }
        Connection {
          Type          Wire
          SrcComponent  "MHBC-"
          SrcTerminal   2
          DstComponent  "L0cl"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "MHBB+"
          SrcTerminal   2
          Points        [490, 105]
          Branch {
            Points        [325, 105]
            Branch {
              DstComponent  "MHBA+"
              DstTerminal   2
            }
            Branch {
              Points        [185, 105]
              Branch {
                DstComponent  "C7"
                DstTerminal   1
              }
              Branch {
                DstComponent  "Vdc+"
                DstTerminal   1
              }
            }
          }
          Branch {
            DstComponent  "MHBC+"
            DstTerminal   2
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "MHBB-"
          SrcTerminal   3
          Points        [490, 595]
          Branch {
            Points        [325, 595]
            Branch {
              DstComponent  "MHBA-"
              DstTerminal   3
            }
            Branch {
              Points        [185, 595]
              Branch {
                DstComponent  "C8"
                DstTerminal   2
              }
              Branch {
                DstComponent  "Vdc-"
                DstTerminal   1
              }
            }
          }
          Branch {
            DstComponent  "MHBC-"
            DstTerminal   3
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "C8"
          SrcTerminal   1
          DstComponent  "C7"
          DstTerminal   2
        }
        Connection {
          Type          Wire
          SrcComponent  "R0al"
          SrcTerminal   2
          Points        [325, 345]
          Branch {
            DstComponent  "R0au"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Phase A"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "R0bl"
          SrcTerminal   2
          Points        [490, 345]
          Branch {
            DstComponent  "R0bu"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Phase B"
            DstTerminal   1
          }
        }
        Connection {
          Type          Wire
          SrcComponent  "R0cl"
          SrcTerminal   2
          Points        [645, 345]
          Branch {
            DstComponent  "R0cu"
            DstTerminal   2
          }
          Branch {
            DstComponent  "Phase C"
            DstTerminal   1
          }
        }
      }
    }
    Component {
      Type          TargetCode
      Name          "CB_PWM"
      Show          on
      Position      [515, 210]
      Direction     up
      Flipped       off
      LabelPosition south
      Frame         [-30, -30; 30, 30]
      TargetPortIndices "1"
      SampleTime    "0"
      EnforceBaseTask "2"
      CodeFcnLang   "2"
      CodeFcn       "if (Target.Family ~= \"Imperix Controllers\") then\n"
"  return 'This block is not compatible with the selected target family (\"%s"
"\")' % {Target.Family}\n"
"end\n"
"\n"
"local InitCode = StringList:new()\n"
"local Dec = StringList:new()\n"
"local OutputCode = StringList:new()\n"
"local Require = ResourceList:new()\n"
"\n"
"--compute lan and output mode\n"
"local pwm_output = Block.Mask.out_conf\n"
"local lan_dim\n"
"if pwm_output == 1.0 then\n"
"\tlan_dim = #Block.Mask.pwm_out_single\n"
"else\n"
"\tlan_dim = #Block.Mask.pwm_out_dual\n"
"end\n"
"\n"
"for i=1,lan_dim do\n"
"\tlocal lan\n"
"\tif pwm_output == 1.0 then\n"
"\t\tlan = Block.Mask.pwm_out_single[i]\n"
"\t\tRequire:add(Target.Coder.GetPwmResource(lan, Block.Mask.nb_bbx))\n"
"\telse \n"
"\t\tlan = 2 * Block.Mask.pwm_out_dual[i]\n"
"\t\tRequire:add(Target.Coder.GetPwmResource(lan, Block.Mask.nb_bbx))\n"
"\t\tRequire:add(Target.Coder.GetPwmResource(lan + 1, Block.Mask.nb_bbx))\n"
"\tend\n"
"\n"
"\t--For activate, phase and duty, if the input is the block terminal. Reconfi"
"gure them at each step\n"
"\tif Block.Mask.block_input_activate == 2.0 then\n"
"\t\n"
"\t\t--Dec:append(\"uint16_t* volatile* ix_activate_ptr_%d_%d;\" % {lan, Block"
".Mask.nb_bbx})\n"
"\t\t--InitCode:append(\"ix_activate_ptr_%d_%d = CbPwm_GetPointerActivate((tPw"
"mOutput)%d, %d);\" % {lan, Block.Mask.nb_bbx, lan, Block.Mask.nb_bbx})\n"
"\t\t--OutputCode:append(\"**ix_activate_ptr_%d_%d = ((float)%s > 0);\" % {lan"
", Block.Mask.nb_bbx, Block.InputSignal[3][1]})\n"
"\t\t--if pwm_output ~= 1.0 then -- if not INDEPENDENT\n"
"\t\t--\tDec:append(\"uint16_t* volatile* ix_activate_ptr_%d_%d;\" % {lan+1, B"
"lock.Mask.nb_bbx})\n"
"\t\t--\tInitCode:append(\"ix_activate_ptr_%d_%d = CbPwm_GetPointerActivate((t"
"PwmOutput)%d, %d);\" % {lan+1, Block.Mask.nb_bbx, lan+1, Block.Mask.nb_bbx})"
"\n"
"\t\t--\tOutputCode:append(\"**ix_activate_ptr_%d_%d = ((float)%s > 0);\" % {l"
"an+1, Block.Mask.nb_bbx, Block.InputSignal[3][1]})\n"
"\t\t--end\n"
"\t\t\n"
"\t\tOutputCode:append(\"if ((float)%s > 0) {\" % {Block.InputSignal[3][1]}) -"
"-cast in float is added since this condition \"if ((float) true > 0)\" can be"
" entered by the user\n"
"\t\tOutputCode:append(\"CbPwm_Activate((tPwmOutput)%d, %d);}\" % {lan, Block."
"Mask.nb_bbx})\n"
"\t\tOutputCode:append(\"else {\")\n"
"\t\tOutputCode:append(\"CbPwm_Deactivate((tPwmOutput)%d, %d);}\" % {lan, Bloc"
"k.Mask.nb_bbx})\n"
"\tend\n"
"\tif Block.Mask.block_input_duty == 2.0 then\n"
"\t\t--Dec:append(\"volatile float* ix_duty_cycle_ptr_%d_%d;\" % {lan, Block.M"
"ask.nb_bbx})\n"
"\t\t--InitCode:append(\"ix_duty_cycle_ptr_%d_%d = CbPwm_GetPointerDutyCycle(("
"tPwmOutput)%d, %d);\" % {lan, Block.Mask.nb_bbx, lan, Block.Mask.nb_bbx})\n"
"\t\t--OutputCode:append(\"*ix_duty_cycle_ptr_%d_%d = %s;\" % {lan, Block.Mask"
".nb_bbx, Block.InputSignal[1][i]})\n"
"\t\t\n"
"\t\tOutputCode:append(\"CbPwm_SetDutyCycle((tPwmOutput)%d, %s, %d);\" % {lan,"
" Block.InputSignal[1][i], Block.Mask.nb_bbx})\n"
"\tend\n"
"\tif Block.Mask.block_input_phase == 2.0 then\n"
"\t\tOutputCode:append(\"CbPwm_SetPhase((tPwmOutput)%d, %s, %d);\" % {lan, Blo"
"ck.InputSignal[2][i], Block.Mask.nb_bbx})\n"
"\tend\n"
"end\n"
"-----------------------------------------------------------------------------"
"-----\n"
"\n"
"return {\n"
"  Declarations = Dec,\n"
"  InitCode = InitCode,\n"
"  OutputCode = OutputCode,\n"
"  Require = Require,\n"
"}"
      NonDftCodeFcn "local InitCode = StringList:new()\n"
"\n"
"---------------------uni-dimensional parameters------------------------------"
"---------\n"
"--check if clock must be taken from the Block terminal or use default clock0"
"\n"
"local clock_source\n"
"if Block.Mask.block_input_clock == 1.0 then\n"
"\tclock_source = 0\n"
"else\n"
"\tclock_source = Block.InputSignal[4][3]\n"
"end\n"
"\n"
"--compute carrier type\n"
"local carrier\n"
"if Block.Mask.carrier == 2.0 then\n"
"\tcarrier = \"1\"\t--SAWTOOTH    = 1, // Sawtooth-shaped carrier (min @t=0, m"
"ax @t=PERIOD)\n"
"elseif Block.Mask.carrier == 3.0 then\n"
"\tcarrier = \"2\"\t--INVTRIANGLE = 2, // Inverted triangular-shaped carrier ("
"max @t=0, min @t=PERIOD/2, etc.)\n"
"elseif Block.Mask.carrier == 4.0 then\n"
"\tcarrier = \"3\"\t--INVSAWTOOTH = 3\t // Inverted sawtooth-shaped carrier (m"
"ax @t=0, min @t=PERIOD)\n"
"else\n"
"\tcarrier = \"0\"\t--TRIANGLE = 0, // Triangular-shaped carrier (min @t=0, ma"
"x @t=PERIOD/2, min @t=PERIOD)\n"
"end\n"
"\n"
"--compute update rate\n"
"local update_rate\n"
"if Block.Mask.rate == 1.0 then\n"
"\tupdate_rate = \"0\"\t--SINGLE_RATE = 0,\n"
"elseif Block.Mask.rate == 2.0 then\n"
"\tupdate_rate = \"1\"\t--DOUBLE_RATE = 1\n"
"else \t\t\n"
"\t--If the carrier type is SAWTOOTH or INVSAWTOOTH the rate variable will be "
"disabled \t\n"
"\t--(it will appear grayed). In this case rate == nil and the update_rate mus"
"t be set to SINGLE_RATE\t\t\n"
"\tupdate_rate = \"0\"\t--SINGLE_RATE = 0,\n"
"end\n"
"\n"
"--compute output mode\n"
"local pwm_output = Block.Mask.out_conf\n"
"local pwm_output_type\n"
"if pwm_output == 1.0 then\n"
"\t--INDEPENDENT = 2, // PWM (only one output)\n"
"\tpwm_output_type = \"2\"\n"
"elseif pwm_output == 2.0 then\n"
"\t--COMPLEMENTARY = 0, // PWM High + PWM Low\n"
"\tpwm_output_type = \"0\"\n"
"else \n"
"\t--PWMH_ACTIVE = 1, // PWM + active signal\n"
"\tpwm_output_type = \"1\"\n"
"end\n"
"\n"
"---------------------multi-dimensional parameters----------------------------"
"-----------\n"
"local duty_dim\n"
"local duty_src\n"
"if Block.Mask.block_input_duty == 1.0 then\n"
"\tduty_dim = #Block.Mask.duty\n"
"\tduty_src = \"mask\"\n"
"else\n"
"\tduty_dim = #Block.InputSignal[1]\n"
"\tduty_src = \"port\"\n"
"end\n"
"local phase_dim\n"
"local phase_src\n"
"if Block.Mask.block_input_phase == 1.0 then\n"
"\tphase_dim = #Block.Mask.phase\n"
"\tphase_src = \"mask\"\n"
"else\n"
"\tphase_dim = #Block.InputSignal[2]\n"
"\tphase_src = \"port\"\n"
"end\n"
"local lan_dim\n"
"if pwm_output == 1.0 then\n"
"\tlan_dim = #Block.Mask.pwm_out_single\n"
"else\n"
"\tlan_dim = #Block.Mask.pwm_out_dual\n"
"end\n"
"\n"
"for i=1,lan_dim do\n"
"\t--check if duty must be taken from the Block terminal or the Dialog Paramet"
"er\n"
"\tlocal duty\n"
"\tif duty_src == \"mask\" then\n"
"\t\tif duty_dim == 1 then\n"
"\t\t\tduty = Block.Mask.duty -- same duty-cycle for all channels\n"
"\t\telse\n"
"\t\t\tduty = Block.Mask.duty[i]\n"
"\t\tend\n"
"\telse\n"
"\t\tduty = Block.InputSignal[1][i]\n"
"\tend\n"
"\t--check if phase must be taken from the Block terminal or the Dialog Parame"
"ter\n"
"\tlocal phase\n"
"\tif phase_src == \"mask\" then\n"
"\t\tif phase_dim == 1 then\n"
"\t\t\tphase = Block.Mask.phase -- same phase for all channels\n"
"\t\telse\n"
"\t\t\tphase = Block.Mask.phase[i]\n"
"\t\tend\n"
"\telse\n"
"\t\tphase = Block.InputSignal[2][i]\n"
"\tend\n"
"\n"
"\tlocal lan\n"
"\tif pwm_output == 1.0 then\n"
"\t\tlan = Block.Mask.pwm_out_single[i]\n"
"\telse \n"
"\t\tlan = 2 * Block.Mask.pwm_out_dual[i]\n"
"\tend\n"
"\t\n"
"\tInitCode:append(\"CbPwm_ConfigureClock((tPwmOutput)%d, (tClock)%s, %d);\" %"
" {lan, clock_source, Block.Mask.nb_bbx})\n"
"\tInitCode:append(\"CbPwm_ConfigureOutputMode((tPwmOutput)%d, (tPwmOutMode)%s"
", %d);\" % {lan, pwm_output_type, Block.Mask.nb_bbx})\n"
"\tInitCode:append(\"CbPwm_ConfigureCarrier((tPwmOutput)%d, (tPwmCarrier)%s, %"
"d);\" % {lan, carrier, Block.Mask.nb_bbx})\n"
"\tif pwm_output_type == \"0\" then\n"
"\t\tInitCode:append(\"CbPwm_ConfigureDeadTime((tPwmOutput)%d, %s, %d);\" % {l"
"an, Block.Mask.dead_time, Block.Mask.nb_bbx})\n"
"\tend\n"
"\tInitCode:append(\"CbPwm_ConfigureUpdateRate((tPwmOutput)%d, (tPwmRate)%s, %"
"d);\" % {lan, update_rate, Block.Mask.nb_bbx})\n"
"\tInitCode:append(\"CbPwm_SetPhase((tPwmOutput)%d, %s, %d);\" % {lan, phase, "
"Block.Mask.nb_bbx})\n"
"\tInitCode:append(\"CbPwm_SetDutyCycle((tPwmOutput)%d, %s, %d);\" % {lan, dut"
"y, Block.Mask.nb_bbx})\n"
"\t\n"
"\t-- Duty-cycle value: 1.0 = Set constant, 2.0 = Use block input (=Set as rea"
"l time)\n"
"\tif Block.Mask.block_input_duty == 2.0 then\n"
"\t\tInitCode:append(\"CbPwm_ConfigureDutyCycleAsRealTime((tPwmOutput)%d, %d);"
"\" % {lan, Block.Mask.nb_bbx})\n"
"\tend\n"
"\n"
"\t-- Carrier phase-shift: 1.0 = Set constant, 2.0 = Use block input (=Set as "
"real time)\n"
"\tif Block.Mask.block_input_phase == 2.0 then\n"
"\t\tInitCode:append(\"CbPwm_ConfigurePhaseAsRealTime((tPwmOutput)%d, %d);\" %"
" {lan, Block.Mask.nb_bbx})\n"
"\tend\n"
"\t\n"
"\t-- PWM activation: 1.0 = Always activated, 2.0 = Use block input (=Set as r"
"eal time)\n"
"\tif Block.Mask.block_input_activate == 1.0 then\n"
"\t\tInitCode:append(\"CbPwm_Activate((tPwmOutput)%d, %d);\" % {lan, Block.Mas"
"k.nb_bbx})\n"
"\telse\n"
"\t\tInitCode:append(\"CbPwm_ConfigureActivateAsRealTime((tPwmOutput)%d, %d);"
"\" % {lan, Block.Mask.nb_bbx})\n"
"\t\tInitCode:append(\"if ((float)%s > 0) {\" % {Block.InputSignal[3][1]}) --c"
"ast in float is added since this condition \"if ((float) true > 0)\" can be e"
"ntered by the user\n"
"\t\tInitCode:append(\"CbPwm_Activate((tPwmOutput)%d, %d);}\" % {lan, Block.Ma"
"sk.nb_bbx})\n"
"\tend\n"
"\n"
"end\n"
"\n"
"-----------------------------------------------------------------------------"
"------\n"
"return {\n"
"  InitCode = InitCode,\n"
"}"
      MaskType      "CB-PWM - Carrier-based PWM"
      MaskDescription "Generates carrier-based PWM signal(s).\n"
"\n"
"- The input signal 'D' is the duty-cycle(s).\n"
"- The input signal 'P' is the carrier phase-shift(s).\n"
"- The input signal '>' is the clock input.\n"
"- The last input 'A' allows the activation (1) or deactivation (0) of the PWM"
" output(s)."
      MaskHelp      "https://imperix.ch/help/plecs/pwm/cb"
      MaskDisplay   "local font_size = 9\n"
"local function getColor(color)\n"
"\tif color == \"red\" then\n"
"\t\treturn 255, 26, 0\n"
"\telseif color == \"white\" then\n"
"\t\treturn 255, 255, 255\n"
"\telse --black\n"
"\t\treturn 0, 0, 0\n"
"\tend\n"
"end\n"
"local function drawClk(x,y, color)\n"
"\tlocal col = color\n"
"\tIcon:color(getColor(col))\n"
"\tIcon:line({x+0.5, x+5.5}, {y-3.5, y})\n"
"\tIcon:line({x+0.5, x+5.5}, {y+3.5, y})\n"
"end\n"
"local function drawRectangle(x,y,w,h, color) --w=width, h=height\n"
"\tlocal col = color\n"
"\tIcon:color(getColor(col))\n"
"\tIcon:line({x,x+w,x+w,x,x},{y,y,y+h,y+h,y})\n"
"end\n"
"local function drawRectangleFull(x,y,w,h,color)--w=width, h=height\n"
"\tIcon:color(getColor(color))\n"
"\tIcon:patch({x,x+w,x+w,x,x},{y,y,y+h,y+h,y})\n"
"end\n"
"local function getOffsetX_R(a_string)\n"
"\tlocal size = #a_string \n"
"\tsize = size + (size*0.9) \n"
"\tsize = size + 4\n"
"\treturn size\n"
"end\n"
"local function trimeVector(a_s_vector)\n"
"\tlocal s = a_s_vector\n"
"\tif #a_s_vector > 9 then\n"
"\t\ts = \"[...]\"\n"
"\tend\n"
"\treturn s\n"
"end\n"
"\n"
"drawRectangle(-30,-30, 60, 60)\n"
"drawRectangleFull(-29, 12, 58, 17, \"red\")\n"
"\n"
"local bb_id = 'BB' .. tostring(Dialog:get('nb_bbx'))\n"
"Icon:text(0,-20, bb_id, 'FontSize',font_size)\n"
"\n"
"Icon:text(0,20,'CB PWM', 'FontSize',font_size, 'Color', {getColor(\"white\")}"
")\n"
"if tonumber(Dialog:get('block_input_clock')) == 2 then\n"
"\tdrawClk(-30,20, \"black\")\n"
"end\n"
"\n"
"local out_conf = Dialog:get('out_conf')\n"
"local d_output = Dialog:get('d_output')\n"
"local offset_x\n"
"if d_output == \"1\" then -- normal PWM output\n"
"\tif out_conf == \"1\" then --single line\n"
"\t\tlocal txt = Dialog:get('pwm_out_single')\n"
"\t\ttxt = trimeVector(txt)\n"
"\t\ttxt = \"LN\" .. txt\n"
"\t\toffset_x = getOffsetX_R(txt)\n"
"\t\tIcon:text(30-offset_x,-5, txt, 'FontSize',font_size)\n"
"\telseif out_conf == \"2\" then --dual PWM H and L\n"
"\t\tlocal ch = Dialog:get('pwm_out_dual')\n"
"\t\tch = trimeVector(ch)\n"
"\t\tlocal txt_1 = ch .. \"H\"\n"
"\t\tlocal txt_2 = ch .. \"L\"\n"
"\t\toffset_x = getOffsetX_R(txt_1)\t\n"
"\t\tIcon:text(30-offset_x,-10, txt_1, 'FontSize',font_size)\n"
"\t\tIcon:text(30-offset_x,0, txt_2, 'FontSize',font_size)\n"
"\telse --dual PWM and active\n"
"\t\tlocal ch = Dialog:get('pwm_out_dual')\n"
"\t\tch = trimeVector(ch)\n"
"\t\tlocal txt_1 = ch .. \"H\"\n"
"\t\tlocal txt_2 = ch .. \"A\"\n"
"\t\toffset_x = getOffsetX_R(txt_1)\t\n"
"\t\tIcon:text(30-offset_x,-10, txt_1, 'FontSize',font_size)\n"
"\t\tIcon:text(30-offset_x,0, txt_2, 'FontSize',font_size)\n"
"\tend\n"
"else -- direct duty-cycle output\n"
"\tif out_conf == \"1\" then --single line\n"
"\t\tlocal txt = Dialog:get('pwm_out_single')\n"
"\t\ttxt = trimeVector(txt)\n"
"\t\ttxt = \"D\" .. txt\n"
"\t\toffset_x = getOffsetX_R(txt)\n"
"\t\tIcon:text(30-offset_x,-5, txt, 'FontSize',font_size)\n"
"\telseif out_conf == \"2\" then --dual PWM H and L\n"
"\t\tlocal ch = Dialog:get('pwm_out_dual')\n"
"\t\tch = trimeVector(ch)\n"
"\t\tlocal txt_1 = \"D\" .. ch .. \"H\"\n"
"\t\tlocal txt_2 = \"D\" .. ch .. \"L\"\n"
"\t\toffset_x = getOffsetX_R(txt_1)\t\n"
"\t\tIcon:text(30-offset_x,-10, txt_1, 'FontSize',font_size)\n"
"\t\tIcon:text(30-offset_x,0, txt_2, 'FontSize',font_size)\n"
"\telse --dual PWM and active\n"
"\t\tlocal ch = Dialog:get('pwm_out_dual')\n"
"\t\tch = trimeVector(ch)\n"
"\t\tlocal txt_1 = \"D\" .. ch .. \"H\"\n"
"\t\tlocal txt_2 = ch .. \"A\"\n"
"\t\toffset_x = getOffsetX_R(txt_1)\t\n"
"\t\tIcon:text(30-offset_x,-10, txt_1, 'FontSize',font_size)\n"
"\t\tIcon:text(30-offset_x,0, txt_2, 'FontSize',font_size)\n"
"\tend\n"
"end"
      MaskDisplayLang "2"
      MaskIconFrame off
      MaskIconOpaque off
      MaskIconRotates on
      MaskInit      "if out_conf == 1 % single output\n"
"\tnbr_modulators = numel(pwm_out_single);\n"
"\tnbr_outputs = nbr_modulators;\n"
"else\n"
"\tnbr_modulators = numel(pwm_out_dual);\n"
"\tnbr_outputs = 2*nbr_modulators;\n"
"end\n"
"\n"
"if ~isreal(nb_bbx) || numel(nb_bbx) ~= 1 || any(nb_bbx < 0)\n"
"\terror('\"Device number\" must be a positive scalar.')\n"
"end\n"
"\n"
"if ~isreal(pwm_out_single) || any(pwm_out_single < 0) || any(pwm_out_single >"
" 31)\n"
"\terror('\"Output lane(s)\" must be a scalar or a vector of values between 0 "
"and 31.')\n"
"end\n"
"\n"
"if ~isreal(pwm_out_dual) || any(pwm_out_dual < 0) || any(pwm_out_dual > 15)\n"
"\terror('\"Output channel(s)\" must be a scalar or a vector of values between"
" 0 and 15.')\n"
"end\n"
"\n"
"if ~isreal(duty) || any(duty < 0) || any(duty > 1)\n"
"\terror('\"Duty-cycle(s)\" must be a scalar or a vector of values between 0 a"
"nd 1.')\n"
"end\n"
"\n"
"if ~isreal(phase) || any(phase < 0) || any(phase > 1)\n"
"\terror('\"Phase-shift(s)\" must be a scalar or a vector of values between 0 "
"and 1.')\n"
"end\n"
"\n"
"if ~isreal(dead_time) || numel(dead_time) ~= 1\n"
"\t\terror('\"Dead-time duration\" must be a scalar.')\n"
"end\n"
"if block_input_duty == 1 % from mask\n"
"\tif (numel(duty) ~= nbr_modulators) && (numel(duty) ~= 1)\n"
"\t\tif out_conf == 1 % single output\n"
"\t\t\terror('\"Duty-cycle(s)\" must be the same length as \"Output lane(s)\" "
"or be a scalar.')\n"
"\t\telse\n"
"\t\t\terror('\"Duty-cycle(s)\" must be the same length as \"Output channel(s)"
"\" or be a scalar.')\n"
"\t\tend\n"
"\tend\n"
"end\n"
"if block_input_phase == 1 % from mask\n"
"\tif (numel(phase) ~= nbr_modulators) && (numel(phase) ~= 1)\n"
"\t\tif out_conf == 1 % single output\n"
"\t\t\terror('\"Phase-shift(s)\" must be the same length as \"Output lane(s)\""
" or be a scalar.')\n"
"\t\telse\n"
"\t\t\terror('\"Phase-shift(s)\" must be the same length as \"Output channel(s"
")\" or be a scalar.')\n"
"\t\tend\n"
"\tend\n"
"end\n"
"\n"
"if carrier == 1 || carrier == 3 % triangular carrier\n"
"\trate_private = rate;\n"
"else\n"
"\trate_private = 1;\n"
"end\n"
"\n"
"dead_time_private = 0; % avoids NaN if out_conf is not PWM H+L\n"
"out_conf_private = out_conf;\n"
"phase_compensation = 1;\n"
"if out_conf == 2 && sim_dead_time == 2 % PWM H+L and simulate dead-time\n"
"\tdead_time_private = dead_time;\n"
"\tout_conf_private = 4;\n"
"\tphase_compensation = 2; % compensate dead-time\n"
"end"
      MaskDialogCallback "local is_D_visible = true\n"
"local is_P_visible = true\n"
"local is_A_visible = true\n"
"\n"
"--Currently, only the clock input can be used to set the PWM freq.\n"
"Dialog:set(\"block_input_clock\", \"Visible\", false)\n"
"\n"
"--manage addressed pwm list according to selected output mode\n"
"local mode = Dialog:get(\"out_conf\")\n"
"if mode == \"1\" then --single\n"
"\tDialog:set(\"pwm_out_single\", \"Visible\", true)\n"
"\tDialog:set(\"pwm_out_dual\", \"Visible\", false)\n"
"\tDialog:set(\"dead_time\", \"Visible\", false)\n"
"\tDialog:set(\"sim_dead_time\", \"Visible\", false)\n"
"elseif mode == \"2\" then -- dual(H and L)\n"
"\tDialog:set(\"pwm_out_single\", \"Visible\", false)\n"
"\tDialog:set(\"pwm_out_dual\", \"Visible\", true)\n"
"\tDialog:set(\"dead_time\", \"Visible\", true)\n"
"\tDialog:set(\"sim_dead_time\", \"Visible\", true)\n"
"else -- dual (H and A)\n"
"\tDialog:set(\"pwm_out_single\", \"Visible\", false)\n"
"\tDialog:set(\"pwm_out_dual\", \"Visible\", true)\n"
"\tDialog:set(\"dead_time\", \"Visible\", false)\n"
"\tDialog:set(\"sim_dead_time\", \"Visible\", false)\n"
"end\n"
"\n"
"--update rate management according to carrier type\n"
"local carrier = Dialog:get(\"carrier\")\n"
"if carrier == \"1\" or carrier == \"3\" then\n"
"\tDialog:set(\"rate\", \"Enable\", true)\n"
"else\n"
"\tDialog:set(\"rate\", \"Value\", \"1\")\n"
"\tDialog:set(\"rate\", \"Enable\", false)\n"
"end\n"
"\n"
"--duty cycle input selection\n"
"local block_duty = Dialog:get(\"block_input_duty\")\n"
"if block_duty == \"1\" then\n"
"\tis_D_visible = false\n"
"\tBlock:showTerminal(\"D\", false)\n"
"\tDialog:set(\"duty\", \"Enable\", true)\n"
"else\n"
"\tis_D_visible = true\n"
"\tBlock:showTerminal(\"D\", true)\n"
"\tDialog:set(\"duty\", \"Enable\", false)\n"
"end\n"
"\n"
"--phase input selection\n"
"local block_phase = Dialog:get(\"block_input_phase\")\n"
"if block_phase == \"1\" then\n"
"\tis_P_visible = false\n"
"\tBlock:showTerminal(\"P\", false)\n"
"\tDialog:set(\"phase\", \"Enable\", true)\n"
"else\n"
"\tis_P_visible = true\n"
"\tBlock:showTerminal(\"P\", true)\n"
"\tDialog:set(\"phase\", \"Enable\", false)\n"
"end\n"
"\n"
"--activate pwm selection\n"
"local block_activate = Dialog:get(\"block_input_activate\")\n"
"if block_activate == \"1\" then\n"
"\tis_A_visible = false\n"
"\tBlock:showTerminal(\"A\", false)\n"
"else\n"
"\tis_A_visible = true\n"
"\tBlock:showTerminal(\"A\", true)\n"
"end\n"
"\n"
"--activate clock input\n"
"local block_clock = Dialog:get(\"block_input_clock\")\n"
"if block_clock == \"1\" then\n"
"\tBlock:showTerminal(\"clk\", false)\n"
"else\n"
"\tBlock:showTerminal(\"clk\", true)\n"
"end\n"
"\n"
"--move termianls\n"
"if is_D_visible == true then\n"
"\tif is_P_visible == true then \n"
"\t\tif is_A_visible == true then\n"
"\t\t\tBlock:moveTerminal(\"D\", -30,-15)\n"
"\t\t\tBlock:moveTerminal(\"P\", -30,-5)\t\n"
"\t\t\tBlock:moveTerminal(\"A\", -30,5)\n"
"\t\telse\n"
"\t\t\tBlock:moveTerminal(\"D\", -30,-15)\n"
"\t\t\tBlock:moveTerminal(\"P\", -30,-5)\n"
"\t\tend\n"
"\telse \n"
"\t\tif is_A_visible == true then\n"
"\t\t\tBlock:moveTerminal(\"D\", -30,-15)\n"
"\t\t\tBlock:moveTerminal(\"A\", -30, -5)\n"
"\t\telse\t\t\t\n"
"\t\t\tBlock:moveTerminal(\"D\", -30,-10)\n"
"\t\tend\n"
"\tend\n"
"else\n"
"\tif is_P_visible == true then\n"
"\t\tif is_A_visible == true then\n"
"\t\t\tBlock:moveTerminal(\"P\", -30,-15)\t\n"
"\t\t\tBlock:moveTerminal(\"A\", -30,-5)\n"
"\t\telse\t\t\t\n"
"\t\t\tBlock:moveTerminal(\"P\", -30,-10)\t\n"
"\t\tend\n"
"\telse\n"
"\t\tBlock:moveTerminal(\"A\", -30,-10)\n"
"\tend\n"
"end"
      Parameter {
        Variable      "nb_bbx"
        Prompt        "Device ID [default=0]"
        Type          FreeText
        Value         "0"
        Show          off
        Tunable       off
        TabName       "Addressing"
      }
      Parameter {
        Variable      "out_conf"
        Prompt        "Output mode"
        Type          FixedText
        PossibleValues {"Single", "Dual (PWM_H + PWM_L)", "Dual (PWM + ACTIVE)"}
        Value         "2"
        Show          on
        Tunable       off
        TabName       "Addressing"
      }
      Parameter {
        Variable      "pwm_out_single"
        Prompt        "Output lane(s) [0 to 31]"
        Type          FreeText
        Value         "0"
        Show          off
        Tunable       off
        TabName       "Addressing"
      }
      Parameter {
        Variable      "pwm_out_dual"
        Prompt        "Output channel(s) [0 to 15]"
        Type          FreeText
        Value         "7"
        Show          off
        Tunable       off
        TabName       "Addressing"
      }
      Parameter {
        Variable      "carrier"
        Prompt        "Carrier type"
        Type          FixedText
        PossibleValues {"Triangle", "Sawtooth", "Inverted triangle", "Inverted"
" sawtooth"}
        Value         "1"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "block_input_duty"
        Prompt        "Duty-cycle value"
        Type          FixedText
        PossibleValues {"Set constant", "Use block input"}
        Value         "2"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "block_input_phase"
        Prompt        "Carrier phase-shift"
        Type          FixedText
        PossibleValues {"Set constant", "Use block input"}
        Value         "2"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "block_input_activate"
        Prompt        "PWM activation"
        Type          FixedText
        PossibleValues {"Always activated", "Use block input"}
        Value         "1"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "rate"
        Prompt        "PWM parameters update rate"
        Type          FixedText
        PossibleValues {"Once per PWM period", "Twice per PWM period"}
        Value         "2"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "duty"
        Prompt        "Duty-cycle(s) [0 to 1]"
        Type          FreeText
        Value         "0.5"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "phase"
        Prompt        "Phase-shift(s) [0 to 1]"
        Type          FreeText
        Value         "[]"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "d_output"
        Prompt        "Simulation output type"
        Type          FixedText
        PossibleValues {"PWM signals", "Duty-cycle"}
        Value         "1"
        Show          on
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "block_input_clock"
        Prompt        "Use block input for clock"
        Type          Bool
        Value         "2"
        Show          off
        Tunable       off
        TabName       "Modulation parameters"
      }
      Parameter {
        Variable      "dead_time"
        Prompt        "Dead-time duration [in seconds]"
        Type          FreeText
        Value         "1e-6"
        Show          off
        Tunable       off
        TabName       "Complementary signal parameters"
      }
      Parameter {
        Variable      "sim_dead_time"
        Prompt        "Dead-time simulation"
        Type          FixedText
        PossibleValues {"Ignore dead-time during simulation", "Simulate dead-t"
"ime"}
        Value         "1"
        Show          on
        Tunable       off
        TabName       "Complementary signal parameters"
      }
      Terminal {
        Type          Input
        Position      [-30, -15]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-30, -5]
        Direction     left
      }
      Terminal {
        Type          Input
        Position      [-30, 5]
        Direction     left
      }
      Terminal {
        Type          EventInput
        Position      [-30, 20]
        Direction     left
      }
      Schematic {
        Location      [92, 87; 905, 1048]
        ZoomFactor    1
        SliderPosition [0, 0]
        ShowBrowser   off
        BrowserWidth  100
        Component {
          Type          Input
          Name          "D"
          Show          on
          Position      [60, 140]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "1"
            Show          on
          }
          Parameter {
            Variable      "InitialOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "HasDirectFeedthrough"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "P"
          Show          on
          Position      [60, 80]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "2"
            Show          on
          }
          Parameter {
            Variable      "InitialOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "HasDirectFeedthrough"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          TargetOutput
          Name          "s"
          Show          on
          Position      [305, 95]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Width"
            Value         "nbr_outputs"
            Show          off
          }
        }
        Component {
          Type          Input
          Name          "A"
          Show          on
          Position      [60, 110]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "3"
            Show          on
          }
          Parameter {
            Variable      "InitialOutput"
            Value         "0"
            Show          off
          }
          Parameter {
            Variable      "HasDirectFeedthrough"
            Value         "2"
            Show          off
          }
          Parameter {
            Variable      "DataType"
            Value         "11"
            Show          off
          }
          Parameter {
            Variable      "DataTypeOverflowMode"
            Value         "1"
            Show          off
          }
          Parameter {
            Variable      "Width"
            Value         "1"
            Show          off
          }
        }
        Component {
          Type          EventInput
          Name          "clk"
          Show          off
          Position      [60, 50]
          Direction     right
          Flipped       off
          LabelPosition south
          Parameter {
            Variable      "Index"
            Value         "4"
            Show          on
          }
          Parameter {
            Variable      "Width"
            Value         "-1"
            Show          off
          }
        }
        Component {
          Type          ConfigurableSubsystem
          Name          "Sub"
          Show          on
          Position      [185, 95]
          Direction     up
          Flipped       off
          LabelPosition none
          Frame         [-65, -65; 65, 65]
          SampleTime    "-1"
          CodeGenDiscretizationMethod "2"
          CodeGenTarget "Generic"
          MaskIconFrame on
          MaskIconOpaque off
          MaskIconRotates on
          Terminal {
            Type          Output
            Position      [69, 0]
            Direction     right
          }
          Terminal {
            Type          Input
            Position      [-65, 45]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-65, -15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-65, 15]
            Direction     left
          }
          Terminal {
            Type          Input
            Position      [-65, -45]
            Direction     left
          }
          TerminalNames { "s", "D", "P", "A", "c" }
          Location      [2, 34; 826, 327]
          ZoomFactor    1
          SliderPosition [0, 0]
          ShowBrowser   off
          BrowserWidth  100
          Configurations {
            Name          "Normal"
            Schematic {
              Component {
                Type          Integrator
                Name          "Integrator"
                Show          off
                Position      [305, 65]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "ExternalReset"
                  Value         "2"
                  Show          off
                }
                Parameter {
                  Variable      "InitialConditionSource"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "x0"
                  Value         "0"
                  Show          off
                }
                Parameter {
                  Variable      "ShowStatePort"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "EnableWrapping"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "UpperLimit"
                  Value         "inf"
                  Show          off
                }
                Parameter {
                  Variable      "LowerLimit"
                  Value         "-inf"
                  Show          off
                }
              }
              Component {
                Type          SignalDemux
                Name          "Demux"
                Show          off
                Position      [195, 40]
                Direction     right
                Flipped       on
                LabelPosition south
                Parameter {
                  Variable      "Width"
                  Value         "2"
                  Show          off
                }
              }
              Component {
                Type          RelationalOperator
                Name          "Relational\nOperator"
                Show          off
                Position      [250, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Operator"
                  Value         "6"
                  Show          off
                }
              }
              Component {
                Type          ConstantRelationalOperator
                Name          "Compare to\nConstant"
                Show          off
                Position      [290, 120]
                Direction     right
                Flipped       on
                LabelPosition south
                Frame         [-25, -10; 25, 10]
                Parameter {
                  Variable      "Operator"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "Threshold"
                  Value         "0.5"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Configurable\nSubsystem1"
                Show          off
                Position      [255, 175]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [0, -15]
                  Direction     up
                }
                TerminalNames { "in", "out", "trig" }
                Location      [5, 37; 446, 235]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Single-rate"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "trig"
                      Show          on
                      Position      [180, 25]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Triggered\nSubsystem"
                      Show          off
                      Position      [220, 80]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Frame         [-25, -15; 25, 15]
                      TreatAsAtomicUnit on
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque off
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-25, 0]
                        Direction     left
                        Index         "1"
                      }
                      Terminal {
                        Type          Output
                        Position      [29, 0]
                        Direction     right
                        Index         "1"
                      }
                      Terminal {
                        Type          Input
                        Position      [0, -15]
                        Direction     up
                        Index         "2"
                      }
                      Schematic {
                        Location      [9, 37; 293, 204]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "DataType"
                            Value         "10"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataTypeOverflowMode"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "InitialOutput"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Trigger
                          Name          "Trigger"
                          Show          on
                          Position      [135, 35]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                          Parameter {
                            Variable      "TriggerType"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "ShowOutput"
                            Value         "1"
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "Triggered\nSubsystem"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "trig"
                      SrcTerminal   1
                      Points        [220, 25]
                      DstComponent  "Triggered\nSubsystem"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Triggered\nSubsystem"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Double-rate"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "trig"
                      Show          on
                      Position      [180, 25]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Triggered\nSubsystem"
                      Show          off
                      Position      [220, 80]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Frame         [-25, -15; 25, 15]
                      TreatAsAtomicUnit on
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque off
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-25, 0]
                        Direction     left
                        Index         "1"
                      }
                      Terminal {
                        Type          Output
                        Position      [29, 0]
                        Direction     right
                        Index         "1"
                      }
                      Terminal {
                        Type          Input
                        Position      [0, -15]
                        Direction     up
                        Index         "2"
                      }
                      Schematic {
                        Location      [415, 55; 699, 222]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "DataType"
                            Value         "10"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataTypeOverflowMode"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "InitialOutput"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Trigger
                          Name          "Trigger"
                          Show          on
                          Position      [140, 40]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                          Parameter {
                            Variable      "TriggerType"
                            Value         "3"
                            Show          off
                          }
                          Parameter {
                            Variable      "ShowOutput"
                            Value         "1"
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "Triggered\nSubsystem"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "trig"
                      SrcTerminal   1
                      Points        [220, 25]
                      DstComponent  "Triggered\nSubsystem"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Triggered\nSubsystem"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "rate_private"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Carrier"
                Show          on
                Position      [370, 65]
                Direction     up
                Flipped       off
                LabelPosition none
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque on
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                TerminalNames { "In1", "Out1" }
                Location      [5, 35; 446, 233]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Triangle"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "In1"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "Out1"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Lookup1D
                      Name          "1D-Table"
                      Show          off
                      Position      [220, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "x"
                        Value         "[0 0.5 1]"
                        Show          off
                      }
                      Parameter {
                        Variable      "f(x)"
                        Value         "[0 1 0]"
                        Show          off
                      }
                      Parameter {
                        Variable      "ZeroCrossingSignals"
                        Value         "2"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "In1"
                      SrcTerminal   1
                      DstComponent  "1D-Table"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "1D-Table"
                      SrcTerminal   2
                      DstComponent  "Out1"
                      DstTerminal   1
                    }
                  }
                  Name          "Sawtooth"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "In1"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "Out1"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "In1"
                      SrcTerminal   1
                      DstComponent  "Out1"
                      DstTerminal   1
                    }
                  }
                  Name          "Inv. triangle"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "In1"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "Out1"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Lookup1D
                      Name          "1D-Table"
                      Show          off
                      Position      [220, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "x"
                        Value         "[0 0.5 1]"
                        Show          off
                      }
                      Parameter {
                        Variable      "f(x)"
                        Value         "[1 0 1]"
                        Show          off
                      }
                      Parameter {
                        Variable      "ZeroCrossingSignals"
                        Value         "2"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "In1"
                      SrcTerminal   1
                      DstComponent  "1D-Table"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "1D-Table"
                      SrcTerminal   2
                      DstComponent  "Out1"
                      DstTerminal   1
                    }
                  }
                  Name          "Inv. sawtooth"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "In1"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "Out1"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          on
                      Position      [185, 50]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-10, -10; 10, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Component {
                      Type          Sum
                      Name          "Sum"
                      Show          off
                      Position      [220, 80]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "IconShape"
                        Value         "2"
                        Show          off
                      }
                      Parameter {
                        Variable      "Inputs"
                        Value         "+-|"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "11"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      Points        [220, 50]
                      DstComponent  "Sum"
                      DstTerminal   2
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "In1"
                      SrcTerminal   1
                      DstComponent  "Sum"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Sum"
                      SrcTerminal   1
                      DstComponent  "Out1"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "carrier"
                  Show          off
                }
              }
              Component {
                Type          SignalSelector
                Name          "Cont\nSelector"
                Show          off
                Position      [80, 40]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "InputWidth"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "OutputIndices"
                  Value         "[1 2]"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Activate\nsource"
                Show          on
                Position      [590, 60]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                TerminalNames { "out", "A" }
                Location      [0, 36; 441, 234]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Internal"
                  Schematic {
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          off
                      Position      [240, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-10, -10; 10, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "External"
                  Schematic {
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [260, 85]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [145, 85]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "A"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "block_input_activate"
                  Show          off
                }
              }
              Component {
                Type          LogicalOperator
                Name          "Logical\nOperator2"
                Show          off
                Position      [715, 120]
                Direction     up
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Operator"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "Inputs"
                  Value         "2"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Phase\nsource"
                Show          on
                Position      [80, 85]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                TerminalNames { "P", "out" }
                Location      [2, 31; 443, 229]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Internal"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "P"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          off
                      Position      [215, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-20, -10; 20, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "phase"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "External"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "P"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "P"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "block_input_phase"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Duty-cylce\nsource"
                Show          on
                Position      [80, 175]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                TerminalNames { "D", "out" }
                Location      [6, 42; 447, 240]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Internal"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "D"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          off
                      Position      [215, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-20, -10; 20, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "duty"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "External"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "D"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "D"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "block_input_duty"
                  Show          off
                }
              }
              Component {
                Type          Subsystem
                Name          "Phase"
                Show          on
                Position      [155, 85]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [0, -15]
                  Direction     up
                }
                Schematic {
                  Location      [5, 36; 461, 222]
                  ZoomFactor    1
                  SliderPosition [0, 0]
                  ShowBrowser   off
                  BrowserWidth  100
                  Component {
                    Type          Input
                    Name          "P"
                    Show          on
                    Position      [60, 80]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "1"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          Output
                    Name          "P'"
                    Show          on
                    Position      [390, 95]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "2"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          ConfigurableSubsystem
                    Name          "Dead-time\ncompensation"
                    Show          on
                    Position      [205, 90]
                    Direction     up
                    Flipped       off
                    LabelPosition south
                    Frame         [-35, -20; 35, 20]
                    SampleTime    "-1"
                    CodeGenDiscretizationMethod "2"
                    CodeGenTarget "Generic"
                    MaskDisplayLang "2"
                    MaskIconFrame on
                    MaskIconOpaque off
                    MaskIconRotates on
                    Terminal {
                      Type          Input
                      Position      [-35, -10]
                      Direction     left
                    }
                    Terminal {
                      Type          Output
                      Position      [39, 0]
                      Direction     right
                    }
                    Terminal {
                      Type          Input
                      Position      [-35, 10]
                      Direction     left
                    }
                    TerminalNames { "phase", "phase'", "freq" }
                    Location      [5, 39; 581, 225]
                    ZoomFactor    1
                    SliderPosition [0, 0]
                    ShowBrowser   off
                    BrowserWidth  100
                    Configurations {
                      Name          "Ignore dead-time"
                      Schematic {
                        Component {
                          Type          Input
                          Name          "phase"
                          Show          on
                          Position      [140, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "phase'"
                          Show          on
                          Position      [440, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "freq"
                          Show          on
                          Position      [140, 115]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "phase"
                          SrcTerminal   1
                          DstComponent  "phase'"
                          DstTerminal   1
                        }
                      }
                      Name          "Simulate dead-time"
                      Schematic {
                        Component {
                          Type          Input
                          Name          "phase"
                          Show          on
                          Position      [140, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "phase'"
                          Show          on
                          Position      [440, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Constant
                          Name          "Constant"
                          Show          off
                          Position      [145, 160]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Frame         [-65, -10; 65, 10]
                          Parameter {
                            Variable      "Value"
                            Value         "dead_time_private/2"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataType"
                            Value         "10"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "freq"
                          Show          on
                          Position      [140, 115]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Product
                          Name          "Product"
                          Show          off
                          Position      [260, 120]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "IconShape"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Inputs"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataType"
                            Value         "11"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataTypeOverflowMode"
                            Value         "1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Sum
                          Name          "Sum"
                          Show          off
                          Position      [365, 80]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "IconShape"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "Inputs"
                            Value         "|+-"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataType"
                            Value         "11"
                            Show          off
                          }
                          Parameter {
                            Variable      "DataTypeOverflowMode"
                            Value         "1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Saturation
                          Name          "Saturation"
                          Show          off
                          Position      [325, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "UpperLimit"
                            Value         "0.25"
                            Show          off
                          }
                          Parameter {
                            Variable      "LowerLimit"
                            Value         "0"
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "Constant"
                          SrcTerminal   1
                          Points        [225, 160; 225, 125]
                          DstComponent  "Product"
                          DstTerminal   3
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "freq"
                          SrcTerminal   1
                          DstComponent  "Product"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "phase"
                          SrcTerminal   1
                          DstComponent  "Sum"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "Sum"
                          SrcTerminal   1
                          DstComponent  "phase'"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "Saturation"
                          SrcTerminal   2
                          Points        [365, 120]
                          DstComponent  "Sum"
                          DstTerminal   3
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "Product"
                          SrcTerminal   1
                          DstComponent  "Saturation"
                          DstTerminal   1
                        }
                      }
                    }
                    Parameter {
                      Variable      "Configuration"
                      Value         "phase_compensation"
                      Show          off
                    }
                  }
                  Component {
                    Type          Input
                    Name          "clk"
                    Show          on
                    Position      [60, 115]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "3"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          Math
                    Name          "Math"
                    Show          off
                    Position      [320, 95]
                    Direction     up
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Operator"
                      Value         "6"
                      Show          off
                    }
                  }
                  Component {
                    Type          Constant
                    Name          "Constant"
                    Show          off
                    Position      [265, 110]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Frame         [-10, -10; 10, 10]
                    Parameter {
                      Variable      "Value"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "DataType"
                      Value         "10"
                      Show          off
                    }
                  }
                  Component {
                    Type          SignalSelector
                    Name          "Cont\nSelector"
                    Show          off
                    Position      [120, 115]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "InputWidth"
                      Value         "2"
                      Show          off
                    }
                    Parameter {
                      Variable      "OutputIndices"
                      Value         "[1]"
                      Show          off
                    }
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "P"
                    SrcTerminal   1
                    DstComponent  "Dead-time\ncompensation"
                    DstTerminal   1
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Dead-time\ncompensation"
                    SrcTerminal   2
                    DstComponent  "Math"
                    DstTerminal   2
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Constant"
                    SrcTerminal   1
                    Points        [285, 110; 285, 100]
                    DstComponent  "Math"
                    DstTerminal   3
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Math"
                    SrcTerminal   1
                    DstComponent  "P'"
                    DstTerminal   1
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "clk"
                    SrcTerminal   1
                    DstComponent  "Cont\nSelector"
                    DstTerminal   1
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Cont\nSelector"
                    SrcTerminal   2
                    Points        [155, 115]
                    DstComponent  "Dead-time\ncompensation"
                    DstTerminal   3
                  }
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Outmode"
                Show          on
                Position      [640, 125]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [0, -15]
                  Direction     up
                }
                TerminalNames { "in", "out", "A" }
                Location      [2, 34; 599, 220]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Single"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [115, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [275, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [115, 115]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Dual H+L"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [110, 75]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [270, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          LogicalOperator
                      Name          "Logical\nOperator"
                      Show          off
                      Position      [180, 105]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Operator"
                        Value         "6"
                        Show          off
                      }
                      Parameter {
                        Variable      "Inputs"
                        Value         "2"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [110, 110]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [230, 80]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [415, 55; 698, 223]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[574 785 654 314]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators nbr_modulators]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < 2; i++)\n"
"{\n"
"\tfor (int j = 0; j < WIDTH; j++)\n"
"\t\tOutputSignal(0, 2*j+i) = InputSignal(i, j);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Logical\nOperator"
                      SrcTerminal   1
                      Points        [205, 105; 205, 85]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      Points        [145, 75]
                      Branch {
                        Points        [145, 105]
                        DstComponent  "Logical\nOperator"
                        DstTerminal   2
                      }
                      Branch {
                        DstComponent  "Mux and reorder"
                        DstTerminal   1
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Dual H+A"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [110, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [270, 85]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [110, 115]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [230, 85]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [437, 134; 720, 302]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[873 655 904 314]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators 1]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < WIDTH; i++)\n"
"{\n"
"\tOutputSignal(0, 2*i)   = InputSignal(0, i);\n"
"\tOutputSignal(0, 2*i+1) = InputSignal(1, 0);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "Mux and reorder"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "A"
                      SrcTerminal   1
                      Points        [175, 115; 175, 90]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Dual H+L w/ dead-time"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [65, 70]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [305, 75]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [65, 105]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Reference
                      SrcComponent  "Components/Control/Delays/Turn-on Delay"
                      Name          "Dead-time\ngenerator"
                      Show          on
                      Position      [235, 75]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Frame         [-15, -15; 15, 15]
                      Parameter {
                        Variable      "DeadTimeSource"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "T_d"
                        Value         "dead_time_private"
                        Show          off
                      }
                      Parameter {
                        Variable      "Rounding"
                        Value         "1"
                        Show          off
                      }
                      Terminal {
                        Type          Input
                        Position      [-15, 0]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [19, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-15, 5]
                        Direction     left
                      }
                    }
                    Component {
                      Type          LogicalOperator
                      Name          "Logical\nOperator"
                      Show          off
                      Position      [135, 100]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Operator"
                        Value         "6"
                        Show          off
                      }
                      Parameter {
                        Variable      "Inputs"
                        Value         "2"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [185, 75]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [415, 55; 698, 223]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[574 785 654 314]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators nbr_modulators]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < 2; i++)\n"
"{\n"
"\tfor (int j = 0; j < WIDTH; j++)\n"
"\t\tOutputSignal(0, 2*j+i) = InputSignal(i, j);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "Dead-time\ngenerator"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Dead-time\ngenerator"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Logical\nOperator"
                      SrcTerminal   1
                      Points        [160, 100; 160, 80]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      Points        [100, 70]
                      Branch {
                        DstComponent  "Mux and reorder"
                        DstTerminal   1
                      }
                      Branch {
                        Points        [100, 100]
                        DstComponent  "Logical\nOperator"
                        DstTerminal   2
                      }
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "out_conf_private"
                  Show          off
                }
              }
              Component {
                Type          Subsystem
                Name          "Compare"
                Show          on
                Position      [480, 125]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-30, -20; 30, 20]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-30, -5]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [34, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-30, 5]
                  Direction     left
                }
                Schematic {
                  Location      [2, 34; 496, 277]
                  ZoomFactor    1
                  SliderPosition [0, 0]
                  ShowBrowser   off
                  BrowserWidth  100
                  Component {
                    Type          Input
                    Name          "carrier"
                    Show          on
                    Position      [100, 65]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "1"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          Output
                    Name          "PWM"
                    Show          on
                    Position      [430, 95]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "2"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          Input
                    Name          "duty"
                    Show          on
                    Position      [100, 105]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Index"
                      Value         "3"
                      Show          on
                    }
                    Parameter {
                      Variable      "Width"
                      Value         "-1"
                      Show          off
                    }
                  }
                  Component {
                    Type          RelationalOperator
                    Name          "Relational\nOperator1"
                    Show          off
                    Position      [185, 85]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "Operator"
                      Value         "3"
                      Show          off
                    }
                  }
                  Component {
                    Type          SignalSwitch
                    Name          "Switch"
                    Show          off
                    Position      [275, 90]
                    Direction     left
                    Flipped       on
                    LabelPosition north
                    Parameter {
                      Variable      "Criteria"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "Threshold"
                      Value         "1"
                      Show          off
                    }
                  }
                  Component {
                    Type          Constant
                    Name          "Constant"
                    Show          off
                    Position      [215, 110]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Frame         [-10, -10; 10, 10]
                    Parameter {
                      Variable      "Value"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "DataType"
                      Value         "10"
                      Show          off
                    }
                  }
                  Component {
                    Type          Constant
                    Name          "Constant1"
                    Show          off
                    Position      [325, 115]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Frame         [-10, -10; 10, 10]
                    Parameter {
                      Variable      "Value"
                      Value         "0"
                      Show          off
                    }
                    Parameter {
                      Variable      "DataType"
                      Value         "10"
                      Show          off
                    }
                  }
                  Component {
                    Type          SignalSwitch
                    Name          "Switch1"
                    Show          off
                    Position      [375, 95]
                    Direction     left
                    Flipped       on
                    LabelPosition north
                    Parameter {
                      Variable      "Criteria"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "Threshold"
                      Value         "0"
                      Show          off
                    }
                  }
                  Component {
                    Type          Gain
                    Name          "Gain"
                    Show          off
                    Position      [320, 150]
                    Direction     right
                    Flipped       off
                    LabelPosition south
                    Parameter {
                      Variable      "K"
                      Value         "-1"
                      Show          off
                    }
                    Parameter {
                      Variable      "Multiplication"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "OutputDataType"
                      Value         "11"
                      Show          off
                    }
                    Parameter {
                      Variable      "DataTypeOverflowMode"
                      Value         "1"
                      Show          off
                    }
                    Parameter {
                      Variable      "GainDataType"
                      Value         "11"
                      Show          off
                    }
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "carrier"
                    SrcTerminal   1
                    Points        [140, 65; 140, 80]
                    DstComponent  "Relational\nOperator1"
                    DstTerminal   1
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "duty"
                    SrcTerminal   1
                    Points        [140, 105]
                    Branch {
                      Points        [140, 90]
                      DstComponent  "Relational\nOperator1"
                      DstTerminal   2
                    }
                    Branch {
                      Points        [140, 150; 275, 150]
                      Branch {
                        DstComponent  "Switch"
                        DstTerminal   4
                      }
                      Branch {
                        DstComponent  "Gain"
                        DstTerminal   1
                      }
                    }
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Constant"
                    SrcTerminal   1
                    Points        [245, 110]
                    DstComponent  "Switch"
                    DstTerminal   2
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Relational\nOperator1"
                    SrcTerminal   3
                    DstComponent  "Switch"
                    DstTerminal   3
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Switch"
                    SrcTerminal   1
                    DstComponent  "Switch1"
                    DstTerminal   3
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Constant1"
                    SrcTerminal   1
                    Points        [345, 115]
                    DstComponent  "Switch1"
                    DstTerminal   2
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Gain"
                    SrcTerminal   2
                    Points        [375, 150]
                    DstComponent  "Switch1"
                    DstTerminal   4
                  }
                  Connection {
                    Type          Signal
                    SrcComponent  "Switch1"
                    SrcTerminal   1
                    DstComponent  "PWM"
                    DstTerminal   1
                  }
                }
              }
              Component {
                Type          Output
                Name          "s"
                Show          on
                Position      [765, 120]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "D"
                Show          on
                Position      [20, 175]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "P"
                Show          on
                Position      [20, 85]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "A"
                Show          on
                Position      [530, 60]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "c"
                Show          on
                Position      [20, 40]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Demux"
                SrcTerminal   2
                Points        [275, 35]
                DstComponent  "Integrator"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Integrator"
                SrcTerminal   2
                Points        [330, 65]
                Branch {
                  DstComponent  "Compare to\nConstant"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "Carrier"
                  DstTerminal   1
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Relational\nOperator"
                SrcTerminal   3
                DstComponent  "Integrator"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Demux"
                SrcTerminal   3
                Points        [205, 45; 205, 65]
                DstComponent  "Relational\nOperator"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Phase"
                SrcTerminal   2
                Points        [205, 85; 205, 75]
                DstComponent  "Relational\nOperator"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Compare to\nConstant"
                SrcTerminal   2
                Points        [255, 120]
                DstComponent  "Configurable\nSubsystem1"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Duty-cylce\nsource"
                SrcTerminal   2
                DstComponent  "Configurable\nSubsystem1"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Configurable\nSubsystem1"
                SrcTerminal   2
                Points        [420, 175; 420, 130]
                DstComponent  "Compare"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Carrier"
                SrcTerminal   2
                Points        [420, 65; 420, 120]
                DstComponent  "Compare"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Cont\nSelector"
                SrcTerminal   2
                Points        [155, 40]
                Branch {
                  DstComponent  "Demux"
                  DstTerminal   1
                }
                Branch {
                  DstComponent  "Phase"
                  DstTerminal   3
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Activate\nsource"
                SrcTerminal   1
                Points        [640, 60]
                Branch {
                  Points        [680, 60; 680, 115]
                  DstComponent  "Logical\nOperator2"
                  DstTerminal   2
                }
                Branch {
                  DstComponent  "Outmode"
                  DstTerminal   3
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Outmode"
                SrcTerminal   2
                DstComponent  "Logical\nOperator2"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Phase\nsource"
                SrcTerminal   2
                DstComponent  "Phase"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Compare"
                SrcTerminal   2
                DstComponent  "Outmode"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Logical\nOperator2"
                SrcTerminal   1
                DstComponent  "s"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "D"
                SrcTerminal   1
                DstComponent  "Duty-cylce\nsource"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "P"
                SrcTerminal   1
                DstComponent  "Phase\nsource"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "A"
                SrcTerminal   1
                DstComponent  "Activate\nsource"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "c"
                SrcTerminal   1
                DstComponent  "Cont\nSelector"
                DstTerminal   1
              }
            }
            Name          "DutyCycle"
            Schematic {
              Component {
                Type          Output
                Name          "s"
                Show          on
                Position      [460, 125]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "1"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "D"
                Show          on
                Position      [25, 120]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "2"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "P"
                Show          on
                Position      [25, 70]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "3"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "A"
                Show          on
                Position      [105, 60]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "4"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          Input
                Name          "c"
                Show          on
                Position      [25, 25]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Index"
                  Value         "5"
                  Show          on
                }
                Parameter {
                  Variable      "Width"
                  Value         "-1"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Activate\nsource"
                Show          on
                Position      [170, 60]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                TerminalNames { "out", "A" }
                Location      [0, 36; 441, 248]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Internal"
                  Schematic {
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          off
                      Position      [240, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-10, -10; 10, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "External"
                  Schematic {
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [260, 85]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [145, 85]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "A"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "block_input_activate"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Outmode"
                Show          on
                Position      [265, 130]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -25; 25, 25]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, -10]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, -10]
                  Direction     right
                }
                Terminal {
                  Type          Input
                  Position      [0, -25]
                  Direction     up
                }
                Terminal {
                  Type          Input
                  Position      [-25, 10]
                  Direction     left
                }
                TerminalNames { "in", "out", "A", "clk_freq" }
                Location      [4, 33; 490, 277]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Single"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [30, 20]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [190, 20]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [30, 55]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "clk_freq"
                      Show          on
                      Position      [30, 90]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "4"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Dual H+L"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [25, 35]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [245, 40]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [25, 70]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [205, 40]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [415, 55; 698, 267]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[384 489 920 309]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators nbr_modulators]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < 2; i++)\n"
"{\n"
"\tfor (int j = 0; j < WIDTH; j++)\n"
"\t\tOutputSignal(0, 2*j+i) = InputSignal(i, j);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Component {
                      Type          Gain
                      Name          "Gain"
                      Show          off
                      Position      [90, 65]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "K"
                        Value         "-1"
                        Show          off
                      }
                      Parameter {
                        Variable      "Multiplication"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "OutputDataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "GainDataType"
                        Value         "11"
                        Show          off
                      }
                    }
                    Component {
                      Type          Offset
                      Name          "Offset"
                      Show          off
                      Position      [145, 65]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-20, -10; 20, 10]
                      Parameter {
                        Variable      "Offset"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "clk_freq"
                      Show          on
                      Position      [25, 110]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "4"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      Points        [55, 35]
                      Branch {
                        Points        [55, 65]
                        DstComponent  "Gain"
                        DstTerminal   1
                      }
                      Branch {
                        DstComponent  "Mux and reorder"
                        DstTerminal   1
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Gain"
                      SrcTerminal   2
                      DstComponent  "Offset"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Offset"
                      SrcTerminal   2
                      Points        [180, 65; 180, 45]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                  }
                  Name          "Dual H+A"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [30, 35]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [190, 40]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [30, 70]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [150, 40]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [437, 134; 720, 346]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[367 102 995 314]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators 1]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < WIDTH; i++)\n"
"{\n"
"\tOutputSignal(0, 2*i)   = InputSignal(0, i);\n"
"\tOutputSignal(0, 2*i+1) = InputSignal(1, 0);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Component {
                      Type          Input
                      Name          "clk_freq"
                      Show          on
                      Position      [30, 110]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "4"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      DstComponent  "Mux and reorder"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "A"
                      SrcTerminal   1
                      Points        [95, 70; 95, 45]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "Dual H+L w/ dead-time"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "in"
                      Show          on
                      Position      [30, 40]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [375, 45]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "A"
                      Show          on
                      Position      [30, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "3"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Subsystem
                      Name          "Mux and reorder"
                      Show          on
                      Position      [335, 45]
                      Direction     up
                      Flipped       off
                      LabelPosition north
                      Frame         [-5, -20; 5, 20]
                      SampleTime    "-1"
                      CodeGenDiscretizationMethod "2"
                      CodeGenTarget "Generic"
                      MaskDisplayLang "2"
                      MaskIconFrame on
                      MaskIconOpaque on
                      MaskIconRotates on
                      Terminal {
                        Type          Input
                        Position      [-5, -5]
                        Direction     left
                      }
                      Terminal {
                        Type          Output
                        Position      [9, 0]
                        Direction     right
                      }
                      Terminal {
                        Type          Input
                        Position      [-5, 5]
                        Direction     left
                      }
                      Schematic {
                        Location      [415, 55; 698, 223]
                        ZoomFactor    1
                        SliderPosition [0, 0]
                        ShowBrowser   off
                        BrowserWidth  100
                        Component {
                          Type          Input
                          Name          "In1"
                          Show          on
                          Position      [60, 80]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "1"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Output
                          Name          "Out1"
                          Show          on
                          Position      [220, 85]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "2"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          Input
                          Name          "In2"
                          Show          on
                          Position      [60, 120]
                          Direction     right
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "Index"
                            Value         "3"
                            Show          on
                          }
                          Parameter {
                            Variable      "Width"
                            Value         "-1"
                            Show          off
                          }
                        }
                        Component {
                          Type          CScript
                          Name          "C-Script"
                          Show          on
                          Position      [140, 85]
                          Direction     up
                          Flipped       off
                          LabelPosition south
                          Parameter {
                            Variable      "DialogGeometry"
                            Value         "[574 785 654 314]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumInputs"
                            Value         "[nbr_modulators nbr_modulators]"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumOutputs"
                            Value         "nbr_outputs"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumContStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumDiscStates"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "NumZCSignals"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "DirectFeedthrough"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Ts"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminalBasedSampleTimes"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "Parameters"
                            Value         "nbr_modulators"
                            Show          off
                          }
                          Parameter {
                            Variable      "LangStandard"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "GnuExtensions"
                            Value         "1"
                            Show          off
                          }
                          Parameter {
                            Variable      "RuntimeCheck"
                            Value         "2"
                            Show          off
                          }
                          Parameter {
                            Variable      "HighlightLevel"
                            Value         "0"
                            Show          off
                          }
                          Parameter {
                            Variable      "Declarations"
                            Value         "#define WIDTH\t\tParamRealData(0, 0"
")"
                            Show          off
                          }
                          Parameter {
                            Variable      "StartFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "OutputFcn"
                            Value         "for (int i = 0; i < 2; i++)\n"
"{\n"
"\tfor (int j = 0; j < WIDTH; j++)\n"
"\t\tOutputSignal(0, 2*j+i) = InputSignal(i, j);\n"
"}"
                            Show          off
                          }
                          Parameter {
                            Variable      "UpdateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "DerivativeFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "TerminateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "StoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                          Parameter {
                            Variable      "RestoreCustomStateFcn"
                            Value         ""
                            Show          off
                          }
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In1"
                          SrcTerminal   1
                          DstComponent  "C-Script"
                          DstTerminal   1
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "In2"
                          SrcTerminal   1
                          Points        [90, 120; 90, 90]
                          DstComponent  "C-Script"
                          DstTerminal   2
                        }
                        Connection {
                          Type          Signal
                          SrcComponent  "C-Script"
                          SrcTerminal   3
                          DstComponent  "Out1"
                          DstTerminal   1
                        }
                      }
                    }
                    Component {
                      Type          Gain
                      Name          "Gain"
                      Show          off
                      Position      [100, 75]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "K"
                        Value         "-1"
                        Show          off
                      }
                      Parameter {
                        Variable      "Multiplication"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "OutputDataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "GainDataType"
                        Value         "11"
                        Show          off
                      }
                    }
                    Component {
                      Type          Offset
                      Name          "Offset"
                      Show          off
                      Position      [155, 75]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-20, -10; 20, 10]
                      Parameter {
                        Variable      "Offset"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Input
                      Name          "clk_freq"
                      Show          on
                      Position      [30, 120]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "4"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Saturation
                      Name          "Saturation"
                      Show          off
                      Position      [275, 40]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "UpperLimit"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "LowerLimit"
                        Value         "0"
                        Show          off
                      }
                    }
                    Component {
                      Type          Saturation
                      Name          "Saturation1"
                      Show          off
                      Position      [275, 75]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "UpperLimit"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "LowerLimit"
                        Value         "0"
                        Show          off
                      }
                    }
                    Component {
                      Type          Sum
                      Name          "Sum"
                      Show          off
                      Position      [195, 40]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "IconShape"
                        Value         "2"
                        Show          off
                      }
                      Parameter {
                        Variable      "Inputs"
                        Value         "|+-"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Sum
                      Name          "Sum1"
                      Show          off
                      Position      [225, 75]
                      Direction     up
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "IconShape"
                        Value         "2"
                        Show          off
                      }
                      Parameter {
                        Variable      "Inputs"
                        Value         "|+-"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Gain
                      Name          "Gain1"
                      Show          off
                      Position      [100, 120]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "K"
                        Value         "dead_time_private"
                        Show          off
                      }
                      Parameter {
                        Variable      "Multiplication"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "OutputDataType"
                        Value         "10"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataTypeOverflowMode"
                        Value         "1"
                        Show          off
                      }
                      Parameter {
                        Variable      "GainDataType"
                        Value         "11"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Mux and reorder"
                      SrcTerminal   2
                      DstComponent  "out"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Gain"
                      SrcTerminal   2
                      DstComponent  "Offset"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "in"
                      SrcTerminal   1
                      Points        [65, 40]
                      Branch {
                        Points        [65, 75]
                        DstComponent  "Gain"
                        DstTerminal   1
                      }
                      Branch {
                        DstComponent  "Sum"
                        DstTerminal   2
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Offset"
                      SrcTerminal   2
                      DstComponent  "Sum1"
                      DstTerminal   2
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Sum1"
                      SrcTerminal   1
                      DstComponent  "Saturation1"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Sum"
                      SrcTerminal   1
                      DstComponent  "Saturation"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Saturation"
                      SrcTerminal   2
                      DstComponent  "Mux and reorder"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Saturation1"
                      SrcTerminal   2
                      Points        [305, 75; 305, 50]
                      DstComponent  "Mux and reorder"
                      DstTerminal   3
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "clk_freq"
                      SrcTerminal   1
                      DstComponent  "Gain1"
                      DstTerminal   1
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Gain1"
                      SrcTerminal   2
                      Points        [195, 120]
                      Branch {
                        DstComponent  "Sum"
                        DstTerminal   3
                      }
                      Branch {
                        Points        [225, 120]
                        DstComponent  "Sum1"
                        DstTerminal   3
                      }
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "out_conf_private"
                  Show          off
                }
              }
              Component {
                Type          ConfigurableSubsystem
                Name          "Duty-cylce\nsource"
                Show          on
                Position      [105, 120]
                Direction     up
                Flipped       off
                LabelPosition south
                Frame         [-25, -15; 25, 15]
                SampleTime    "-1"
                CodeGenDiscretizationMethod "2"
                CodeGenTarget "Generic"
                MaskDisplayLang "2"
                MaskIconFrame on
                MaskIconOpaque off
                MaskIconRotates on
                Terminal {
                  Type          Input
                  Position      [-25, 0]
                  Direction     left
                }
                Terminal {
                  Type          Output
                  Position      [29, 0]
                  Direction     right
                }
                TerminalNames { "D", "out" }
                Location      [6, 42; 447, 254]
                ZoomFactor    1
                SliderPosition [0, 0]
                ShowBrowser   off
                BrowserWidth  100
                Configurations {
                  Name          "Internal"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "D"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Constant
                      Name          "Constant"
                      Show          off
                      Position      [215, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Frame         [-20, -10; 20, 10]
                      Parameter {
                        Variable      "Value"
                        Value         "duty"
                        Show          off
                      }
                      Parameter {
                        Variable      "DataType"
                        Value         "10"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "Constant"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                  Name          "External"
                  Schematic {
                    Component {
                      Type          Input
                      Name          "D"
                      Show          on
                      Position      [140, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "1"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Component {
                      Type          Output
                      Name          "out"
                      Show          on
                      Position      [300, 80]
                      Direction     right
                      Flipped       off
                      LabelPosition south
                      Parameter {
                        Variable      "Index"
                        Value         "2"
                        Show          on
                      }
                      Parameter {
                        Variable      "Width"
                        Value         "-1"
                        Show          off
                      }
                    }
                    Connection {
                      Type          Signal
                      SrcComponent  "D"
                      SrcTerminal   1
                      DstComponent  "out"
                      DstTerminal   1
                    }
                  }
                }
                Parameter {
                  Variable      "Configuration"
                  Value         "block_input_duty"
                  Show          off
                }
              }
              Component {
                Type          SignalSwitch
                Name          "Switch"
                Show          off
                Position      [400, 125]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "Criteria"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "Threshold"
                  Value         "0"
                  Show          off
                }
              }
              Component {
                Type          Gain
                Name          "Gain"
                Show          off
                Position      [340, 145]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "K"
                  Value         "0"
                  Show          off
                }
                Parameter {
                  Variable      "Multiplication"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "OutputDataType"
                  Value         "10"
                  Show          off
                }
                Parameter {
                  Variable      "DataTypeOverflowMode"
                  Value         "1"
                  Show          off
                }
                Parameter {
                  Variable      "GainDataType"
                  Value         "11"
                  Show          off
                }
              }
              Component {
                Type          SignalSelector
                Name          "Cont\nSelector"
                Show          off
                Position      [105, 25]
                Direction     right
                Flipped       off
                LabelPosition south
                Parameter {
                  Variable      "InputWidth"
                  Value         "3"
                  Show          off
                }
                Parameter {
                  Variable      "OutputIndices"
                  Value         "[1]"
                  Show          off
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Activate\nsource"
                SrcTerminal   1
                Points        [265, 60]
                Branch {
                  DstComponent  "Outmode"
                  DstTerminal   3
                }
                Branch {
                  Points        [400, 60]
                  DstComponent  "Switch"
                  DstTerminal   4
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Outmode"
                SrcTerminal   2
                Points        [305, 120]
                Branch {
                  DstComponent  "Switch"
                  DstTerminal   2
                }
                Branch {
                  Points        [305, 145]
                  DstComponent  "Gain"
                  DstTerminal   1
                }
              }
              Connection {
                Type          Signal
                SrcComponent  "Gain"
                SrcTerminal   2
                Points        [365, 145; 365, 130]
                DstComponent  "Switch"
                DstTerminal   3
              }
              Connection {
                Type          Signal
                SrcComponent  "Duty-cylce\nsource"
                SrcTerminal   2
                DstComponent  "Outmode"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "D"
                SrcTerminal   1
                DstComponent  "Duty-cylce\nsource"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "A"
                SrcTerminal   1
                DstComponent  "Activate\nsource"
                DstTerminal   2
              }
              Connection {
                Type          Signal
                SrcComponent  "Switch"
                SrcTerminal   1
                DstComponent  "s"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "c"
                SrcTerminal   1
                DstComponent  "Cont\nSelector"
                DstTerminal   1
              }
              Connection {
                Type          Signal
                SrcComponent  "Cont\nSelector"
                SrcTerminal   2
                Points        [215, 25; 215, 140]
                DstComponent  "Outmode"
                DstTerminal   4
              }
            }
          }
          Parameter {
            Variable      "Configuration"
            Value         "d_output"
            Show          off
          }
        }
        Connection {
          Type          Signal
          SrcComponent  "Sub"
          SrcTerminal   1
          DstComponent  "s"
          DstTerminal   1
        }
        Connection {
          Type          Signal
          SrcComponent  "A"
          SrcTerminal   1
          DstComponent  "Sub"
          DstTerminal   4
        }
        Connection {
          Type          Signal
          SrcComponent  "P"
          SrcTerminal   1
          DstComponent  "Sub"
          DstTerminal   3
        }
        Connection {
          Type          Signal
          SrcComponent  "clk"
          SrcTerminal   1
          DstComponent  "Sub"
          DstTerminal   5
        }
        Connection {
          Type          Signal
          SrcComponent  "D"
          SrcTerminal   1
          DstComponent  "Sub"
          DstTerminal   2
        }
      }
    }
  }
}
